<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	ul{
		width: 800px;
		margin: 0 auto;
	}
	li{
		float: left;
		width: 700px;
		list-style: none;
	}
	img{
		width: 100%;
	}
	</style>
	<script type="text/javascript" src="jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="jquery.lazyload.js"></script>
</head>
<body>
	<ul>
		<li>
			<img data-original="img/1.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/2.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/3.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/4.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/5.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/6.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/7.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/1.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/2.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/3.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/4.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/5.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/6.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/7.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/1.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/2.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/3.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/4.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/5.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/6.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/7.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/1.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/2.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/3.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/4.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/5.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/6.png" class="lazy" alt="">
		</li>
		<li>
			<img data-original="img/7.png" class="lazy" alt="">
		</li>
	</ul>
	<!--<script type="text/javascript">
	var API = {
		on: function(ele,type,handler){
			return ele.addEventListener ? ele.addEventListener(type,handler,false) : ele.attachEvent('on' + type,handler);
		},
		bind: function(obj,handler){
			return function(){
				return handler.apply(obj,arguments);
			};
		},
		//元素在页面中x轴的位置
		pageX : function(el){
			var left = 0;	
			do{
				left += el.offsetLeft;
			}while(el.offsetParent && (el = el.offsetParent).nodeName.toLowerCase() != 'body');
			return left;
		},
		//元素在页面中Y轴的位置
		pageY : function(el){
			var top = 0;
			do{
				top += el.offsetTop;
			}while(el.offsetParent && (el = el.offsetParent).nodeName.toLowerCase() != 'body');
			return top;
		},
		//判断图片是否加载
		hasClass : function(ele,className){
			return new RegExp('(^|\\s)' + className + '(<a href="$)').test(ele.className">\\s|$)").test(ele.className</a>);
		},
		//获取当前元素的属性值
		attr : function(ele,attr,value){
			if(arguments.length == 2){
				return ele.attributes[attr] ? ele.attributes[attr].nodeValue : undefined;
			}else if(arguments.length == 3){
				ele.setAttribute(attr,value);
			}
		},
		//按需加载
		function lazyLoading(obj){
			this.lazy = typeof obj === 'string' ? document.getElementById(obj) : document.getElementsByTagName('body')[0];
			this.aImg = this.lazy.getElementsByTagName('img');
			this.fnLoad = API.bind(this,this.load);
			this.load();
			API.on(window,'scroll',this.fnLoad);
			API.on(window,'resize',this.fnLoad);
		}
		lazyLoading.prototype = {
			load : function(){
				var iScrollTop = document.documentElement.scrollTop || document.body.scrollTop;
				var iClientH = document.documentElement.clientHeight + iScrollTop;
				var i = 0;
				var aParent = [];
				var oParent = null;
				var iTop = 0;
				var iBottom = 0;
				var aNotLoaded = this.loaded(0);
				if(this.loaded(1).length != this.aImg.length){
					var notLoadedLen = aNotLoaded.length;
					for(var i = 0;i < notLoadedLen; i++){
						iTop = API.pageY(aNotLoaded[i]) - 200;
						iBottom = API.pageY(aNotLoaded[i]) + aNotLoaded[i].offsetHeight + 200;
						var isTopArea = (iTop > iScrollTop && iTop < iClientH) ? true : false;
						var isBottomArea = (iBottom > iScrollTop && iBottom < iClientH) ? true : false;
						if(isTopArea || isBottomArea){
							aNotLoaded[i].src = API.attr(aNotLoaded[i],'data-src') || aNotLoaded[i].src;
							if(!API.hasClass(aNotLoaded[i],'loaded')){
								if('' != aNotLoaded[i].className){
									aNotLoaded[i].className = aNotLoaded[i].className.concat('loaded');
								}else{
									aNotLoaded[i].className = 'loaded';
								}
							}
						}
					}
				}
			},
			loaded : function(){
				var arr = [];
				var i = 0;
				for(i = 0; i < this.aImg.length;i++){
					var hasClass = API.hasClass(this.aImg[i],'loaded');
					if(!status){
						if(!hasClass){
							arr.push(this.aImg[i]);
						}
					}
					if(status){
						if(hasClass){
							arr.push(this.aImg[i]);
						}
					}
				}
			}
			return arr;
		};
		API.on(window,'load',function(){
			new lazyLoading();
		});
	};
	</script>-->
	<script type="text/javascript" charset="utf-8">
		  $(function() {
		      $("img.lazy").lazyload({effect: "fadeIn"});
		  });
	</script>

</body>
</html>